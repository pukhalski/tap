!function(a){var b={},c={};c.attachEvent=function(b,c,d){if("addEventListener"in a)return b.addEventListener(c,d,!1)},c.fireFakeEvent=function(a,b){if(document.createEvent)return a.target.dispatchEvent(c.createEvent(b))},c.createEvent=function(b){if(document.createEvent){var c=a.document.createEvent("HTMLEvents");return c.initEvent(b,!0,!0),c.eventName=b,c}},c.getRealEvent=function(a){return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length?a.originalEvent.touches[0]:a.touches&&a.touches.length?a.touches[0]:a},c.isPc=function(){for(var a=navigator.userAgent,b=["Android","iPhone","Windows Phone","iPad","iPod"],c=!0,d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return c};var d=[{test:("propertyIsEnumerable"in a||"hasOwnProperty"in document)&&(a.propertyIsEnumerable("ontouchstart")||document.hasOwnProperty("ontouchstart")||a.hasOwnProperty("ontouchstart")),events:{start:"touchstart",move:"touchmove",end:"touchend"}},{test:a.navigator.msPointerEnabled,events:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},{test:a.navigator.pointerEnabled,events:{start:"pointerdown",move:"pointermove",end:"pointerup"}}];b.options={eventName:"tap",fingerMaxOffset:11};var e,f,g,h,i={};e=function(a){return c.attachEvent(document.documentElement,h[a],g[a])},g={start:function(a){a=c.getRealEvent(a),i.start=[a.pageX,a.pageY],i.offset=[0,0]},move:function(a){if(!i.start&&!i.move)return!1;a=c.getRealEvent(a),i.move=[a.pageX,a.pageY],i.offset=[Math.abs(i.move[0]-i.start[0]),Math.abs(i.move[1]-i.start[1])]},end:function(d){if(d=c.getRealEvent(d),i.offset&&d.preventDefault&&i.offset[0]<b.options.fingerMaxOffset&&i.offset[1]<b.options.fingerMaxOffset&&!c.fireFakeEvent(d,b.options.eventName)){if(a.navigator.msPointerEnabled||a.navigator.pointerEnabled){var e=function(a){a.preventDefault(),d.target.removeEventListener("click",e)};d.target.addEventListener("click",e,!1)}d.preventDefault()}i={}},click:function(a){if(!c.fireFakeEvent(a,b.options.eventName))return a.preventDefault()}},f=function(){var a=0;if(c.isPc())return c.attachEvent(document.documentElement,"click",g.click);for(;a<d.length;a++)if(d[a].test){h=d[a].events,e("start"),e("move"),e("end");break}},c.attachEvent(a,"load",f),"function"==typeof define&&define.amd?define(function(){return f(),b}):a.Tap=b}(window);